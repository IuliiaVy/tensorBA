<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Интерактивный гид v2 | Oh, Pretty People</title>
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: An enhanced single-page interactive checklist. Key additions are localStorage persistence for tasks and notes, a reset button for a new day, and the ability to add notes to each task. This evolves the tool from a simple checklist to a daily persistent workspace, significantly increasing its practical utility. The core structure remains a single-scroll page for simplicity, but with richer, stateful components. -->
    <!-- Visualization & Content Choices: Progress Bar -> Goal: Inform/Motivate -> Viz: Dynamic width HTML div -> Interaction: Updates on checkbox click -> Justification: Provides instant visual feedback on daily progress. Checklists & Notes -> Goal: Organize/Interact/Log -> Presentation: Interactive HTML checkboxes and toggleable textareas -> Interaction: Click to toggle state, click to add/edit notes, all data saved to localStorage -> Justification: Adds critical persistence and logging capabilities, transforming the guide into a reusable daily tool. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Lora:ital,wght@1,400&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #F9F7F5;
            color: #3d3d3d;
        }
        h1, h2, h3 {
            font-family: 'Inter', sans-serif;
            font-weight: 700;
        }
        .subtitle, .footer-text {
            font-family: 'Lora', serif;
            font-style: italic;
        }
        .task-list input[type="checkbox"]:checked + label {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .task-list input[type="checkbox"] {
            display: none;
        }
        .progress-bar-inner {
            transition: width 0.3s ease-in-out;
        }
        .note-area {
            display: none;
        }
        .note-area.active {
            display: block;
        }
    </style>
</head>
<body class="antialiased">

    <div class="max-w-4xl mx-auto p-4 md:p-8">
        
        <header class="text-center my-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Интерактивный гид администратора</h1>
            <p class="subtitle text-md md:text-lg text-gray-600 max-w-3xl mx-auto">
                 Ваш персональный навигатор по Saby Clients для идеальной смены. Отмечайте задачи, добавляйте заметки и следуйте рекомендациям — все сохранится автоматически.
            </p>
        </header>

        <div class="bg-white rounded-xl shadow-sm p-6 mb-8 sticky top-4 z-10">
            <div class="flex justify-between items-center mb-3">
                <h2 class="text-lg font-bold text-gray-800">Прогресс выполнения задач</h2>
                <button id="reset-button" class="text-sm bg-red-500 text-white font-semibold py-2 px-4 rounded-lg hover:bg-red-600 transition-colors">Новый день</button>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-4">
                <div id="progress-bar" class="progress-bar-inner bg-green-500 h-4 rounded-full text-center text-white text-xs" style="width: 0%;"></div>
            </div>
             <p id="progress-text" class="text-center text-sm mt-2 text-gray-600 font-semibold">0% выполнено</p>
        </div>

        <main class="space-y-10 task-list">
            
            <section id="morning-tasks">
                <h3 class="text-2xl font-bold text-gray-800 mb-2 border-b pb-2">✅ Утро: До открытия</h3>
                <p class="text-sm text-gray-500 mb-6 font-semibold">Готовимся к встрече клиентов и обеспечиваем безупречный старт дня.</p>
                <ul class="space-y-3">
                    <li data-task-id="task1">
                        <input type="checkbox" id="task1-cb"><label for="task1-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Открыть кассовую смену.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Перейдите в раздел «Касса» → «Открыть смену». Убедитесь, что оборудование готово (зеленый индикатор ✅), и внесите разменный фонд.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                    <li data-task-id="task2">
                        <input type="checkbox" id="task2-cb"><label for="task2-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Проверить журнал записей.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ В разделе «Записи» просмотрите расписание на сегодня. Обратите внимание на статусы: "Новый" требует вашего внимания.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                    <li data-task-id="task3">
                        <input type="checkbox" id="task3-cb"><label for="task3-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Подтвердить визиты.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Проактивно свяжитесь с клиентами, у которых статус записи "Новый". После подтверждения измените статус на "Подтвержден". Это снизит количество неявок.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                    <li data-task-id="task4">
                        <input type="checkbox" id="task4-cb"><label for="task4-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Проверить входящие сообщения.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Откройте «Контакт-центр». Ответьте на сообщения из мессенджеров, соцсетей и виджета на сайте. Обработайте новые заявки на запись.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                     <li data-task-id="task5">
                        <input type="checkbox" id="task5-cb"><label for="task5-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Проверить чистоту и порядок.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Убедитесь, что зона ресепшен, место ожидания и витрина с товарами выглядят идеально.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                </ul>
            </section>

            <section id="day-tasks">
                <h3 class="text-2xl font-bold text-gray-800 mb-2 border-b pb-2">✅ День: В течение смены</h3>
                 <p class="text-sm text-gray-500 mb-6 font-semibold">Первоклассный сервис, точный учет и активные продажи.</p>
                <ul class="space-y-3">
                    <li data-task-id="task6">
                        <input type="checkbox" id="task6-cb"><label for="task6-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Встречать и регистрировать клиентов.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Пришел новый клиент? В разделе «Клиенты» нажмите `+` и создайте для него карточку, заполнив контактные данные. Для постоянных клиентов отмечайте визит, меняя статус записи на "Выполнение".</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                    <li class="flex items-start p-3 rounded-lg"><span class="mr-3 text-gray-500 pt-1 text-lg">↻</span> <div><span class="font-semibold">Консультировать по услугам и акциям.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Используйте раздел «Каталог» для подробной информации об услугах и раздел «Скидки и акции» для актуальных предложений. Предлагайте клиентам сопутствующие товары.</p></div></li>
                    <li class="flex items-start p-3 rounded-lg"><span class="mr-3 text-gray-500 pt-1 text-lg">↻</span> <div><span class="font-semibold">Управлять записью.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Оперативно вносите в «Журнал» новые визиты, переносы и отмены. При отмене обязательно указывайте причину — это поможет в аналитике.</p></div></li>
                    <li class="flex items-start p-3 rounded-lg"><span class="mr-3 text-gray-500 pt-1 text-lg">↻</span> <div><span class="font-semibold">Принимать оплату.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ После оказания услуги откройте запись в «Журнале» и нажмите «Чек». Выберите способ оплаты (наличные, картой, по QR-коду) и примените скидку или бонусные баллы, если это необходимо.</p></div></li>
                    <li class="flex items-start p-3 rounded-lg"><span class="mr-3 text-gray-500 pt-1 text-lg">↻</span> <div><span class="font-semibold">Продавать товары с витрины.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Для продажи товара используйте сканер штрихкодов или найдите позицию в «Каталоге». Проведите продажу через кассу, чтобы товар корректно списался со склада.</p></div></li>
                    <li class="flex items-start p-3 rounded-lg"><span class="mr-3 text-gray-500 pt-1 text-lg">↻</span> <div><span class="font-semibold">Работать с базой клиентов.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ В разделе «Клиенты» дополняйте карточки новой информацией (например, предпочтениями клиента). Если обнаружили дубли, объединяйте их, чтобы база была чистой.</p></div></li>
                    <li class="flex items-start p-3 rounded-lg"><span class="mr-3 text-gray-500 pt-1 text-lg">↻</span> <div><span class="font-semibold">Отвечать на звонки и сообщения.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Постоянно отслеживайте «Контакт-центр» и телефонные звонки. Быстрые ответы — залог лояльности клиентов.</p></div></li>
                </ul>
            </section>
            
            <section id="evening-tasks">
                <h3 class="text-2xl font-bold text-gray-800 mb-2 border-b pb-2">✅ Вечер: Завершение дня</h3>
                <p class="text-sm text-gray-500 mb-6 font-semibold">Аккуратно закрываем день и готовимся к завтрашним успехам.</p>
                <ul class="space-y-3">
                    <li data-task-id="task13">
                        <input type="checkbox" id="task13-cb"><label for="task13-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Проверить визиты за день.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Убедитесь, что у всех записей в «Журнале» за сегодня стоит финальный статус: "Оплачен", "Отменен" или "Перенесен". Не должно остаться записей в статусе "Выполнение".</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                    <li data-task-id="task14">
                        <input type="checkbox" id="task14-cb"><label for="task14-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Снять кассу (Z-отчет).</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ В разделе «Касса» нажмите «Закрыть смену». Произведите контрольный пересчет наличных и подтвердите закрытие. Saby распечатает Z-отчет. Сверьте его с отчетом по банковскому терминалу.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                    <li data-task-id="task15">
                        <input type="checkbox" id="task15-cb"><label for="task15-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Подготовить отчет за день.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ В разделе «Продажи/Смены» просмотрите отчет по закрытой смене. Обратите внимание на выручку, количество чеков и рейтинг сотрудников. Эта информация полезна для руководителя.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                    <li data-task-id="task16">
                        <input type="checkbox" id="task16-cb"><label for="task16-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Просмотреть записи на завтра.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Откройте в «Журнале» следующий день. Ознакомьтесь с расписанием, чтобы быть готовой к приходу первых клиентов.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                    <li data-task-id="task17">
                        <input type="checkbox" id="task17-cb"><label for="task17-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Привести в порядок рабочее место.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Уберите все лишнее, протрите поверхности, подготовьте все необходимое для утренней смены.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                    <li data-task-id="task18">
                        <input type="checkbox" id="task18-cb"><label for="task18-cb" class="cursor-pointer flex items-start p-3 rounded-lg hover:bg-gray-50"><span class="mr-3 text-green-500">☐</span> <div><span class="font-semibold">Закрыть салон.</span><p class="task-details text-sm text-gray-600 pl-1 mt-1">▪️ Выключите все электроприборы (компьютер, кассу, освещение, музыку), закройте двери и поставьте помещение на охрану.</p></div></label>
                        <div class="pl-8 -mt-2 mb-2"><button class="add-note-btn text-sm text-blue-500 hover:underline">+ Заметка</button><div class="note-area mt-2"><textarea class="w-full p-2 border rounded-md text-sm" placeholder="Введите заметку..."></textarea></div></div>
                    </li>
                </ul>
            </section>
        </main>

        <footer class="text-center pt-8 mt-12 border-t border-gray-200">
            <p class="footer-text text-sm text-gray-500">
                Oh, Pretty People | 2025 | Желаем продуктивного дня!
            </p>
        </footer>
    </div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const STORAGE_KEY = 'adminGuideData_v2_extended';
        
        const checkboxes = document.querySelectorAll('.task-list input[type="checkbox"]');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const resetButton = document.getElementById('reset-button');
        const totalTasks = checkboxes.length;

        let appData = {
            tasks: {},
            notes: {}
        };

        function saveData() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(appData));
        }

        function loadData() {
            const data = localStorage.getItem(STORAGE_KEY);
            if (data) {
                appData = JSON.parse(data);
                appData.tasks = appData.tasks || {};
                appData.notes = appData.notes || {};
            }
        }
        
        function updateProgress() {
            const checkedTasks = document.querySelectorAll('.task-list input[type="checkbox"]:checked').length;
            const percentage = totalTasks > 0 ? Math.round((checkedTasks / totalTasks) * 100) : 0;
            
            progressBar.style.width = percentage + '%';
            progressText.textContent = `${percentage}% выполнено (${checkedTasks} из ${totalTasks})`;
        }

        function applyState() {
            checkboxes.forEach(cb => {
                const taskId = cb.closest('li').dataset.taskId;
                cb.checked = !!appData.tasks[taskId];
                const label = cb.nextElementSibling;
                const icon = label.querySelector('span:first-child');
                icon.textContent = cb.checked ? '☑' : '☐';
            });
            
            document.querySelectorAll('li[data-task-id]').forEach(item => {
                const taskId = item.dataset.taskId;
                const noteTextarea = item.querySelector('textarea');
                if (noteTextarea && appData.notes[taskId]) {
                    noteTextarea.value = appData.notes[taskId];
                    if (appData.notes[taskId].trim() !== '') {
                        item.querySelector('.note-area').classList.add('active');
                        item.querySelector('.add-note-btn').textContent = '− Скрыть заметку';
                    }
                }
            });

            updateProgress();
        }

        checkboxes.forEach(cb => {
            cb.addEventListener('change', () => {
                const taskId = cb.closest('li').dataset.taskId;
                appData.tasks[taskId] = cb.checked;
                saveData();
                const label = cb.nextElementSibling;
                const icon = label.querySelector('span:first-child');
                icon.textContent = cb.checked ? '☑' : '☐';
                updateProgress();
            });
        });

        resetButton.addEventListener('click', () => {
            if (confirm('Вы уверены, что хотите сбросить весь прогресс и заметки для нового дня?')) {
                appData = { tasks: {}, notes: {} };
                saveData();
                document.querySelectorAll('li[data-task-id]').forEach(item => {
                    const noteTextarea = item.querySelector('textarea');
                    if(noteTextarea) noteTextarea.value = '';
                    const noteArea = item.querySelector('.note-area');
                    if(noteArea) noteArea.classList.remove('active');
                    const addNoteBtn = item.querySelector('.add-note-btn');
                    if(addNoteBtn) addNoteBtn.textContent = '+ Заметка';
                });
                applyState();
            }
        });

        document.querySelectorAll('.add-note-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const noteArea = btn.nextElementSibling;
                noteArea.classList.toggle('active');
                btn.textContent = noteArea.classList.contains('active') ? '− Скрыть заметку' : '+ Заметка';
            });
        });

        document.querySelectorAll('textarea').forEach(textarea => {
            textarea.addEventListener('input', () => {
                const taskId = textarea.closest('li').dataset.taskId;
                appData.notes[taskId] = textarea.value;
                saveData();
            });
        });

        loadData();
        applyState();
    });
</script>
</body>
</html> 
